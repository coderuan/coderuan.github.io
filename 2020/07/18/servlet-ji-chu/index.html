<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="ServletåŸºç¡€, wenahé˜®">
    <meta name="description" content="å°½åŠ›ã€éšç¼˜">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>ServletåŸºç¡€ | wenahé˜®</title>
    <link rel="icon" type="image/jpeg" href="https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/favicon.jpg">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.1"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/medias/logo.jpg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">wenahé˜®</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>é¦–é¡µ</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>æ ‡ç­¾</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>åˆ†ç±»</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>å½’æ¡£</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>å…³äº</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>å‹æƒ…é“¾æ¥</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="æœç´¢" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/medias/logo.jpg" class="logo-img circle responsive-img">
        
        <div class="logo-name">wenahé˜®</div>
        <div class="logo-desc">
            
            å°½åŠ›ã€éšç¼˜
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			é¦–é¡µ
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			æ ‡ç­¾
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			åˆ†ç±»
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			å½’æ¡£
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			å…³äº
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			å‹æƒ…é“¾æ¥
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/blackCatAndGirl.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">ServletåŸºç¡€</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- æ–‡ç« å†…å®¹è¯¦æƒ… -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Java/">
                                <span class="chip bg-color">Java</span>
                            </a>
                        
                            <a href="/tags/%E5%90%8E%E5%8F%B0/">
                                <span class="chip bg-color">åå°</span>
                            </a>
                        
                            <a href="/tags/%E5%9F%BA%E7%A1%80/">
                                <span class="chip bg-color">åŸºç¡€</span>
                            </a>
                        
                            <a href="/tags/Servlet/">
                                <span class="chip bg-color">Servlet</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/JavaEE/" class="post-category">
                                JavaEE
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>å‘å¸ƒæ—¥æœŸ:&nbsp;&nbsp;
                    2020-07-18
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>æ–‡ç« å­—æ•°:&nbsp;&nbsp;
                    7.2k
                </div>
                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h3 id="ä¸€ã€Servletæ¦‚è¿°"><a href="#ä¸€ã€Servletæ¦‚è¿°" class="headerlink" title="ä¸€ã€Servletæ¦‚è¿°"></a>ä¸€ã€Servletæ¦‚è¿°</h3><h4 id="1-1ã€ä»€ä¹ˆæ˜¯Servletï¼Ÿ"><a href="#1-1ã€ä»€ä¹ˆæ˜¯Servletï¼Ÿ" class="headerlink" title="1.1ã€ä»€ä¹ˆæ˜¯Servletï¼Ÿ"></a>1.1ã€ä»€ä¹ˆæ˜¯Servletï¼Ÿ</h4><ul>
<li><p>Servletï¼ˆ<strong>Server</strong> <strong>Applet</strong>ï¼‰æ˜¯ Java Servlet çš„ç®€ç§°ï¼Œç§°ä¸º<strong>å°æœåŠ¡ç¨‹åº</strong>æˆ–<strong>æœåŠ¡è¿æ¥å™¨</strong>ï¼Œç”¨ Java ç¼–å†™çš„æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œå…·æœ‰ç‹¬ç«‹äºå¹³å°å’Œåè®®çš„ç‰¹æ€§ï¼Œä¸»è¦åŠŸèƒ½åœ¨äº<strong>äº¤äº’å¼</strong>çš„æµè§ˆå’Œç”Ÿæˆæ•°æ®ï¼Œç”ŸæˆåŠ¨æ€Webå†…å®¹ã€‚</p>
</li>
<li><p>ç‹­ä¹‰çš„ Servlet æ˜¯æŒ‡ Java è¯­è¨€å®ç°çš„<strong>ä¸€ä¸ªæ¥å£</strong>ï¼Œå¹¿ä¹‰çš„Servletæ˜¯æŒ‡<strong>ä»»ä½•å®ç°äº†è¿™ä¸ªServletæ¥å£çš„ç±»</strong>ã€‚</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œäººä»¬å°†Servletç†è§£ä¸ºåè€…ã€‚</p>
</li>
<li><p>Servlet çš„å‘½åå¯ä»¥çœ‹å‡º sun å‘½åçš„ç‰¹ç‚¹ï¼Œå¦‚ Applet è¡¨ç¤ºå°åº”ç”¨ç¨‹åºï¼›Scriptlet = Script + Appletï¼Œè¡¨ç¤ºå°è„šæœ¬ç¨‹åºï¼›åŒæ · Servlet = Service + Appletï¼Œè¡¨ç¤ºå°æœåŠ¡ç¨‹åºã€‚</p>
</li>
</ul>
<hr>
<h4 id="1-2ã€Servletçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#1-2ã€Servletçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.2ã€Servletçš„ç”Ÿå‘½å‘¨æœŸ"></a>1.2ã€Servletçš„ç”Ÿå‘½å‘¨æœŸ</h4><h5 id="ä¸€èˆ¬æƒ…å†µä¸‹ï¼š"><a href="#ä¸€èˆ¬æƒ…å†µä¸‹ï¼š" class="headerlink" title="ä¸€èˆ¬æƒ…å†µä¸‹ï¼š"></a>ä¸€èˆ¬æƒ…å†µä¸‹ï¼š</h5><ol>
<li><p><strong>å®¢æˆ·ç«¯å‘é€è¯·æ±‚</strong> åˆ°è¯¥ Servletï¼›</p>
</li>
<li><p>Web å®¹å™¨<strong>è§£æè¯·æ±‚</strong>ï¼›ï¼ˆæ¯”å¦‚Tomcatï¼‰</p>
</li>
<li><p>å®¢æˆ·ç«¯çš„è¯·æ±‚åˆ°è¾¾ Serverï¼Œ<strong>åŠ è½½</strong> Servlet ç±» <strong>åˆ°å†…å­˜</strong>ï¼›</p>
<p>Server åˆ›å»ºä¸€ä¸ª<strong>è¯·æ±‚å¯¹è±¡</strong>å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ã€åˆ›å»ºä¸€ä¸ª<strong>å“åº”å¯¹è±¡</strong>å“åº”å®¢æˆ·ç«¯è¯·æ±‚ï¼›</p>
</li>
<li><p><strong>å®ä¾‹åŒ–</strong> å¹¶ <strong>è°ƒç”¨</strong> <strong>init()</strong> <strong>æ–¹æ³•</strong> åˆå§‹åŒ–è¯¥ Servletï¼›ï¼ˆinitæ–¹æ³•åªä¼šåœ¨åˆå§‹åŒ–æ—¶<strong>æ‰§è¡Œä¸€æ¬¡</strong>ï¼Œä¸‹æ¬¡è°ƒç”¨ä¸ä¼šæ‰§è¡Œï¼‰</p>
</li>
<li><p>è°ƒç”¨ <strong>service()</strong> â€”â€”æ ¹æ®è¯·æ±‚æ–¹æ³•ä¸åŒè°ƒç”¨doGet() æˆ–è€… doPost()æ¥å¤„ç†ä¸šåŠ¡ï¼›</p>
<p>Server æ¿€æ´» Servlet çš„ service() æ–¹æ³•ï¼Œä¼ é€’è¯·æ±‚å’Œå“åº”å¯¹è±¡ä½œä¸ºå‚æ•°</p>
<p>æ­¤å¤–è¿˜æœ‰doHead()ã€doPut()ã€doTrace()ã€doDelete()ã€doOptions()ã€destroy()ï¼›</p>
</li>
<li><p><strong>è¿”å›å“åº”</strong>ï¼Œè¾“å‡ºå“åº”ä¿¡æ¯ï¼›</p>
<p>service() æ–¹æ³•ä½¿ç”¨å“åº”å¯¹è±¡çš„æ–¹æ³•ï¼Œå°†å“åº”ä¼ å›Serverï¼Œæœ€ç»ˆåˆ°è¾¾å®¢æˆ·ç«¯ã€‚service()æ–¹æ³•å¯èƒ½æ¿€æ´»å…¶å®ƒæ–¹æ³•ä»¥å¤„ç†è¯·æ±‚ï¼Œå¦‚ doGet() æˆ– doPost() æˆ–ç¨‹åºå‘˜è‡ªå·±å¼€å‘çš„æ–°çš„æ–¹æ³•ã€‚</p>
</li>
<li><p>è°ƒç”¨ destory() æ–¹æ³•â€”â€”å…³é—­èµ„æºæˆ–é”€æ¯å¯¹è±¡ï¼›ï¼ˆdestoryæ–¹æ³•ä¸€èˆ¬åœ¨<strong>Serverå…³é—­æ—¶è°ƒç”¨</strong>ï¼‰</p>
</li>
</ol>
<p><code>webå®¹å™¨æ˜¯ä¸€ç§æœåŠ¡ç¨‹åºï¼Œåœ¨æœåŠ¡å™¨ä¸€ä¸ªç«¯å£å°±æœ‰ä¸€ä¸ªæä¾›ç›¸åº”æœåŠ¡çš„ç¨‹åºã€‚è¿™ä¸ªç¨‹åºå°±æ˜¯å¤„ç†ä»å®¢æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚ï¼Œå¦‚JAVAä¸­çš„Tomcatå®¹å™¨ï¼ŒASPçš„IISæˆ–PWSéƒ½æ˜¯è¿™æ ·çš„å®¹å™¨ã€‚ä¸€ä¸ªæœåŠ¡å™¨å¯ä»¥æœ‰å¤šä¸ªå®¹å™¨ã€‚</code></p>
<p>å¯¹äºæ›´å¤šçš„å®¢æˆ·ç«¯è¯·æ±‚ï¼ŒServer åˆ›å»ºæ–°çš„è¯·æ±‚å’Œå“åº”å¯¹è±¡ï¼Œä»ç„¶æ¿€æ´»æ­¤ Servlet çš„ service() æ–¹æ³•ï¼Œå°†ä¸¤ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒã€‚å¦‚æ­¤é‡å¤ä»¥ä¸Šçš„å¾ªç¯ï¼Œä½†æ— éœ€å†æ¬¡è°ƒç”¨ init() æ–¹æ³•ã€‚ä¸€èˆ¬ Servlet åªåˆå§‹åŒ–ä¸€æ¬¡(<strong>åªæœ‰ä¸€ä¸ªå¯¹è±¡</strong>)ã€‚</p>
<hr>
<h5 id="Server-å¯åŠ¨æ—¶å¼ºåˆ¶è£…è½½å’Œåˆå§‹åŒ–ç‰¹å®šçš„-Servlet"><a href="#Server-å¯åŠ¨æ—¶å¼ºåˆ¶è£…è½½å’Œåˆå§‹åŒ–ç‰¹å®šçš„-Servlet" class="headerlink" title="Server å¯åŠ¨æ—¶å¼ºåˆ¶è£…è½½å’Œåˆå§‹åŒ–ç‰¹å®šçš„ Servlet"></a>Server å¯åŠ¨æ—¶å¼ºåˆ¶è£…è½½å’Œåˆå§‹åŒ–ç‰¹å®šçš„ Servlet</h5><p>åŠ è½½å’Œå®ä¾‹åŒ– Servlet ä¸€èˆ¬æ˜¯<strong>åŠ¨æ€æ‰§è¡Œ</strong>çš„ã€‚ç„¶è€Œï¼ŒServer é€šå¸¸ä¼šæä¾›ä¸€ä¸ªç®¡ç†çš„é€‰é¡¹ï¼Œç”¨äºåœ¨ Server å¯åŠ¨æ—¶å¼ºåˆ¶è£…è½½å’Œåˆå§‹åŒ–ç‰¹å®šçš„ Servletã€‚</p>
<ul>
<li>Servlet çš„ init() æ–¹æ³•å¯é…ç½®ä¸º Server åˆ›å»º Servlet å®ä¾‹æ—¶è°ƒç”¨ï¼Œåœ¨ <code>web.xml</code> ä¸­ <code>&lt;servlet&gt;</code> æ ‡ç­¾ä¸‹é…ç½®<code>&lt;load-on-startup&gt;</code> æ ‡ç­¾ï¼Œé…ç½®çš„å€¼ä¸ºæ•´å‹ï¼Œå€¼è¶Šå° Servlet çš„å¯åŠ¨ä¼˜å…ˆçº§è¶Šé«˜ã€‚</li>
</ul>
<p>åœ¨servletçš„é…ç½®å½“ä¸­ï¼Œ<code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code>çš„å«ä¹‰æ˜¯ï¼šæ ‡è®°å®¹å™¨æ˜¯å¦åœ¨<strong>å¯åŠ¨çš„æ—¶å€™</strong>å°±åŠ è½½è¿™ä¸ªservletã€‚</p>
<ul>
<li><p>å½“å€¼ä¸º <strong>0æˆ–è€…å¤§äº0</strong> æ—¶ï¼Œè¡¨ç¤ºå®¹å™¨åœ¨åº”ç”¨<strong>å¯åŠ¨æ—¶</strong>å°±åŠ è½½è¿™ä¸ª servletï¼›</p>
</li>
<li><p>å½“å€¼ä¸º <strong>è´Ÿæ•°æ—¶æˆ–è€…æ²¡æœ‰æŒ‡å®š</strong> æ—¶ï¼Œåˆ™æŒ‡ç¤ºå®¹å™¨åœ¨è¯¥ servlet <strong>è¢«è¯·æ±‚æ—¶</strong> æ‰åŠ è½½ã€‚</p>
</li>
<li><p><strong>æ­£æ•°çš„å€¼è¶Šå°</strong>ï¼Œå¯åŠ¨è¯¥ servlet çš„<strong>ä¼˜å…ˆçº§è¶Šé«˜</strong>ã€‚</p>
</li>
</ul>
<hr>
<p><strong>æ¯”å¦‚ Tomcat7.0 çš„ web.xml éƒ¨åˆ†é…ç½®</strong>ï¼š(å¯¹äºæ‰€æœ‰tomcatåŠ è½½çš„web applicationéƒ½ä¼šåº”ç”¨ï¼Œä¼šå’Œapplicationæœ¬èº«æŒ‡å®šçš„web.xmlè¿›è¡Œåˆå¹¶)</p>
<pre><code>&lt;servlet&gt;
    &lt;servlet-name&gt;default&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.apache.catalina.servlets.DefaultServlet&lt;/servlet-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;debug&lt;/param-name&gt;
        &lt;param-value&gt;0&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;listings&lt;/param-name&gt;
        &lt;param-value&gt;false&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;

&lt;!-- The mapping for the default servlet --&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;default&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre><ol>
<li>è¯¥servletçš„nameä¸ºdefault,å…¶å¯¹åº”çš„servlet-classç±»ä¸ºorg.apache.catalina.servlets.DefaultServletã€‚</li>
<li>å¯¹åº”çš„init-paramæ ‡ç­¾ä¸­ä¸¤ä¸ªåˆå§‹åŒ–å‚æ•°:<ul>
<li>ä¸€ä¸ªæ˜¯ debug ,è¿™ä¸ªå‚æ•°è®¾ç½®äº† debug çš„çº§åˆ«ã€‚</li>
<li>ä¸€ä¸ªæ˜¯ listings å‚æ•°ï¼Œè¯¥å‚æ•°çš„ä½œç”¨æ˜¯å½“å¯¹åº” URL å¹¶æ²¡æœ‰å¯¹åº”ä¸€ä¸ªèµ„æºæ—¶ï¼Œæ˜¯å¦è¦æ˜¾ç¤ºèµ„æºç›®å½•ï¼Œè¯¥å‚æ•°é…ç½®ä¸ºäº† falseï¼Œä¹Ÿå°±æ˜¯ä¸æ˜¾ç¤ºã€‚</li>
</ul>
</li>
<li>load-on-startupä¸º1æ˜¯è¯´æ˜å½“åº”ç”¨å¯åŠ¨æ—¶å°±åœ¨åŠ è½½è¯¥servletã€‚</li>
<li>DefaultServlet çš„ servlet-mapping é…ç½®çš„ä¸ºï¼š<strong>/</strong> ,å¤„ç†æ‰€æœ‰çš„è¯·æ±‚ï¼ˆè¯·æ±‚ä¼˜å…ˆçº§æœ€ä½ï¼‰<ul>
<li>ä¸€èˆ¬åªæœ‰defaultServletä¼šé…ç½®ä¸º/,å¦‚æœè‡ªå®šä¹‰çš„Servletä¹Ÿé…ç½®ä¸º/,é‚£ä¹ˆå°†ä¼šè¦†ç›–defaultservletçš„é…ç½®ã€‚</li>
<li>é€šè¿‡é“¾æ¥è®¿é—®åº”ç”¨å†…çš„èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚.jpg,.html,.jsè¿™ç±»çš„é™æ€æ–‡ä»¶ï¼Œå°±æ˜¯ DefaultServlet å¤„ç†çš„è¯·æ±‚ã€‚</li>
</ul>
</li>
</ol>
<hr>
<p>å¯¹äºç±»ä¼¼äº <strong>.jsp</strong> çš„javaåŠ¨æ€æœåŠ¡é¡µï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ä¸€ä¸ªURLä¾‹å¦‚ <strong>/index.jsp</strong> æ¥è®¿é—®åˆ°è¯¥é¡µé¢ï¼Œè¿™æ˜¯å› ä¸ºåœ¨web.xmlä¸­æœ‰ä¸€ä¸ª <strong>JspServlet</strong> æ¥å¤„ç†è¿™ç±»è¯·æ±‚ï¼Œå³å½“ç”¨æˆ·è¯·æ±‚çš„èµ„æºæ˜¯ä¸€ä¸ªjspé¡µé¢ç­‰æ—¶ï¼Œè®¿é—®çš„æ˜¯JspServletã€‚</p>
<p>æµè§ˆå™¨ä¸èƒ½æ˜¾ç¤ºåŠ¨æ€èµ„æºï¼ŒJspServlet å°†å½“å‰è®¿é—®çš„ jsp é¡µé¢è½¬æ¢æˆé™æ€çš„ html é¡µé¢ï¼Œç„¶åå†å“åº”ç»™æµè§ˆå™¨ã€‚</p>
<pre><code>&lt;servlet&gt;
    &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;fork&lt;/param-name&gt;
        &lt;param-value&gt;false&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;xpoweredBy&lt;/param-name&gt;
        &lt;param-value&gt;false&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;load-on-startup&gt;3&lt;/load-on-startup&gt;
&lt;/servlet&gt;

&lt;!-- The mappings for the JSP servlet --&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;
    &lt;url-pattern&gt;*.jspx&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre><p>JSPé¡µçš„ç¼–è¯‘å’Œæ‰§è¡ŒServletï¼Œ æ˜¯Tomcatæ”¯æŒJSPé¡µé¢çš„æœºåˆ¶ã€‚å¦å¤–ï¼Œè¿™ä¸ªservletè¢«æ˜ å°„çš„URLæ¨¡å¼ä¸ºâ€*.jspâ€ã€‚ åŒæ—¶ä¹Ÿæ”¯æŒä¸€äº›åˆå§‹åŒ–å‚æ•°ã€‚å®ƒä»¬éƒ½å…·æœ‰ä¸€äº›é»˜è®¤å€¼ã€‚å…·ä½“è§£é‡Šå¯ä»¥çœ‹ web.xml ä¸­çš„æ³¨é‡Šã€‚</p>
<hr>
<h5 id="å…³äº-url-pattern-çš„åŒ¹é…é—®é¢˜"><a href="#å…³äº-url-pattern-çš„åŒ¹é…é—®é¢˜" class="headerlink" title="å…³äº url-pattern çš„åŒ¹é…é—®é¢˜"></a>å…³äº url-pattern çš„åŒ¹é…é—®é¢˜</h5><ul>
<li><p>å¯¹äº<code>&lt;url-pattern&gt;&lt;/url-pattern&gt;</code>ä¸€ä¸ªServletå¯ä»¥é…ç½®å¤šä¸ª <strong>url-pattern</strong></p>
</li>
<li><p>ä¼˜å…ˆçº§ï¼šå®Œå…¨åŒ¹é… &gt; ç›®å½•åŒ¹é… &gt; æ‰©å±•ååŒ¹é…</p>
</li>
<li><p>åœ¨ä¼˜å…ˆçº§ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå…ˆè®¿é—®èŒƒå›´æ›´ç¡®å®šçš„urlé…ç½®</p>
</li>
</ul>
<hr>
<h5 id="Servletå®¹å™¨å¯¹Servletçš„ç®¡ç†"><a href="#Servletå®¹å™¨å¯¹Servletçš„ç®¡ç†" class="headerlink" title="Servletå®¹å™¨å¯¹Servletçš„ç®¡ç†"></a>Servletå®¹å™¨å¯¹Servletçš„ç®¡ç†</h5><ul>
<li><p>Servlet å®¹å™¨çš„ä¸»è¦åŠŸèƒ½æ˜¯å°†<strong>è¯·æ±‚è½¬å‘</strong>åˆ°æ­£ç¡®çš„ Servlet è¿›è¡Œå¤„ç†ï¼Œå¹¶åœ¨ JVM å¤„ç†å®Œåå°†<strong>åŠ¨æ€ç”Ÿæˆçš„ç»“æœè¿”å›</strong>åˆ°æ­£ç¡®çš„ä½ç½®ã€‚</p>
</li>
<li><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ Servlet å®¹å™¨åœ¨å•ä¸ª JVM ä¸­è¿è¡Œï¼Œä½†æ˜¯å½“å®¹å™¨éœ€è¦å¤šä¸ª JVM æ—¶ï¼Œä¼šæœ‰ä¸€äº›å…¶å®ƒçš„è§£å†³æ–¹æ¡ˆã€‚</p>
</li>
<li><p>Servlet å®¹å™¨å…è®¸ JVM åœ¨å¤„ç†æ¯ä¸ªè¯·æ±‚æ—¶ä½¿ç”¨ <strong>å•ç‹¬çš„</strong> <strong>Java</strong> <strong>çº¿ç¨‹</strong>ï¼Œè¿™æ˜¯ Servlet å®¹å™¨çš„ä¸€ä¸ªä¸»è¦ä¼˜ç‚¹ã€‚</p>
<ul>
<li>æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€ä¸ªå•ä¸€çš„ Servlet å®ä¾‹çš„ service() æ–¹æ³•</li>
</ul>
</li>
<li><p>å½“ Server ä¸å†éœ€è¦ Servlet æ—¶ï¼ˆä¸€èˆ¬å½“ Server å…³é—­æ—¶ï¼‰ï¼ŒServer è°ƒç”¨ Servlet çš„ destroy() æ–¹æ³•ã€‚</p>
</li>
</ul>
<hr>
<h4 id="1-3ã€Servlet-çº¿ç¨‹å®‰å…¨é—®é¢˜"><a href="#1-3ã€Servlet-çº¿ç¨‹å®‰å…¨é—®é¢˜" class="headerlink" title="1.3ã€Servlet çº¿ç¨‹å®‰å…¨é—®é¢˜"></a>1.3ã€Servlet çº¿ç¨‹å®‰å…¨é—®é¢˜</h4><p>åœ¨ Web åº”ç”¨ç¨‹åºä¸­ï¼Œä¸€ä¸ª Servlet åœ¨ä¸€ä¸ªæ—¶åˆ»å¯èƒ½è¢«å¤šä¸ªç”¨æˆ·åŒæ—¶è®¿é—®ã€‚è¿™æ—¶ Web å®¹å™¨å°†ä¸ºæ¯ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œ Servletã€‚å¦‚æœ Servlet ä¸æ¶‰åŠå…±äº«èµ„æºçš„é—®é¢˜ï¼Œä¸å¿…å…³å¿ƒå¤šçº¿ç¨‹é—®é¢˜ã€‚ä½†å¦‚æœ Servlet éœ€è¦å…±äº«èµ„æºï¼Œéœ€è¦ä¿è¯ Servlet æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p><strong>çº¿ç¨‹å®‰å…¨çš„Servletçš„ä¸€äº›æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>ç”¨æ–¹æ³•çš„<strong>å±€éƒ¨å˜é‡</strong>ä¿å­˜è¯·æ±‚ä¸­çš„<strong>ä¸“æœ‰æ•°æ®</strong>ã€‚å¯¹æ–¹æ³•ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼Œè¿›å…¥æ–¹æ³•çš„æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ä¸€ä»½æ–¹æ³•å˜é‡æ‹·è´ã€‚ä»»ä½•çº¿ç¨‹éƒ½ä¸ä¼šä¿®æ”¹å…¶ä»–çº¿ç¨‹çš„å±€éƒ¨å˜é‡ã€‚<ul>
<li>å¦‚æœè¦åœ¨ä¸åŒçš„è¯·æ±‚ä¹‹é—´<strong>å…±äº«æ•°æ®</strong>ï¼Œåº”è¯¥<strong>ä½¿ç”¨ä¼šè¯</strong>æ¥å…±äº«è¿™ç±»æ•°æ®ã€‚</li>
</ul>
</li>
<li>åªç”¨ Servlet çš„<strong>æˆå‘˜å˜é‡</strong>æ¥å­˜æ”¾é‚£äº›<strong>ä¸ä¼šæ”¹å˜çš„æ•°æ®</strong>ã€‚æœ‰äº›æ•°æ®åœ¨ Servlet ç”Ÿå‘½å‘¨æœŸä¸­ä¸å‘ç”Ÿä»»ä½•å˜åŒ–ï¼Œé€šå¸¸æ˜¯åœ¨åˆå§‹æ—¶ç¡®å®šçš„ï¼Œè¿™äº›æ•°æ®å¯ä»¥ä½¿ç”¨æˆå‘˜å˜é‡ä¿å­˜ï¼Œå¦‚æ•°æ®åº“è¿æ¥åç§°ã€å…¶ä»–èµ„æºçš„è·¯å¾„ç­‰ã€‚</li>
<li>å¯¹å¯èƒ½è¢«è¯·æ±‚<strong>ä¿®æ”¹</strong>çš„æˆå‘˜å˜é‡<strong>åŒæ­¥</strong>ã€‚æœ‰æ—¶æ•°æ®æˆå‘˜å˜é‡æˆ–è€…ç¯å¢ƒå±æ€§å¯èƒ½è¢«è¯·æ±‚ä¿®æ”¹ã€‚å½“è®¿é—®è¿™äº›æ•°æ®æ—¶åº”è¯¥å¯¹å®ƒä»¬åŒæ­¥ï¼Œä»¥é¿å…å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹è¿™äº›æ•°æ®ã€‚</li>
<li>å¦‚æœ Servlet <strong>è®¿é—®å¤–éƒ¨èµ„æº</strong>ï¼Œé‚£ä¹ˆéœ€è¦<strong>åŒæ­¥è®¿é—®</strong>è¿™äº›èµ„æºã€‚ä¾‹å¦‚ï¼Œå‡è®¾ Servlet è¦ä»æ–‡ä»¶ä¸­è¯»å†™æ•°æ®ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è¯»å†™ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿå¯èƒ½æ­£åœ¨è¯»å†™è¿™ä¸ªæ–‡ä»¶ã€‚æ–‡ä»¶è®¿é—®æœ¬èº«ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥å¿…é¡»ç¼–å†™åŒæ­¥è®¿é—®è¿™äº›èµ„æºçš„ä»£ç ã€‚</li>
</ul>
<p><strong>åœ¨ç¼–å†™çº¿ç¨‹å®‰å…¨çš„ Servlet æ—¶ï¼Œä¸‹é¢ä¸¤ç§æ–¹æ³•æ˜¯ä¸åº”è¯¥ä½¿ç”¨çš„ï¼š</strong></p>
<ol>
<li><p>åœ¨ Servlet API ä¸­æä¾›äº†ä¸€ä¸ª SingleThreadModel æ¥å£ï¼Œå®ç°è¿™ä¸ªæ¥å£çš„ Servlet åœ¨è¢«å¤šä¸ªå®¢æˆ·è¯·æ±‚æ—¶ä¸€ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿è¡Œã€‚è¿™ä¸ªæ¥å£å·²è¢«æ ‡è®°<em>ä¸æ¨èä½¿ç”¨</em>ã€‚</p>
</li>
<li><p>å¯¹ doGet() æˆ–doPost() æ–¹æ³•åŒæ­¥ã€‚å¦‚æœå¿…é¡»åœ¨ Servlet ä¸­ä½¿ç”¨åŒæ­¥ä»£ç  <strong>synchronized(obj){}</strong>ï¼Œåº”å°½é‡åœ¨æœ€å°çš„ä»£ç å—èŒƒå›´ä¸Šè¿›è¡ŒåŒæ­¥ã€‚åŒæ­¥ä»£ç è¶Šå°ï¼ŒServlet æ‰§è¡Œå¾—æ‰è¶Šå¥½ã€‚</p>
</li>
</ol>
<hr>
<h4 id="1-4ã€ç®€è¿°DefaultServletï¼ˆé»˜è®¤Servletï¼‰"><a href="#1-4ã€ç®€è¿°DefaultServletï¼ˆé»˜è®¤Servletï¼‰" class="headerlink" title="1.4ã€ç®€è¿°DefaultServletï¼ˆé»˜è®¤Servletï¼‰"></a>1.4ã€ç®€è¿°DefaultServletï¼ˆé»˜è®¤Servletï¼‰</h4><ul>
<li><strong>JSP/Servletæ¶æ„çš„webé¡¹ç›®</strong></li>
</ul>
<p>è¿™ç±»é¡¹ç›®æ— éœ€æ˜¾ç¤ºé…ç½®DefaultSerlvetã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œjspåç¼€è¯·æ±‚ä¼šäº¤ç»™JspServletï¼Œé™æ€èµ„æºè¯·æ±‚å›¾ç‰‡ç­‰ä¼šäº¤ç»™DefaultServletå¤„ç†ã€‚</p>
<ul>
<li><strong>SSMä¸­çš„ DispatcherServlet é…ç½®</strong></li>
</ul>
<pre><code>&lt;!-- Spring MVC --&gt;
&lt;servlet&gt;
    &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    &lt;init-param&gt;
        &lt;description&gt;SpringMVC&lt;/description&gt;
        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
        &lt;param-value&gt;classpath:spring/spring-mvc.xml&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;!-- å¯åŠ¨æ—¶åŠ è½½ --&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;SpringMVC&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre><p>å…¶ä¸­ï¼Œç”±äºæ—©æœŸçš„Spring MVCä¸èƒ½å¾ˆå¥½åœ°å¤„ç†é™æ€èµ„æºï¼Œæ‰€ä»¥åœ¨web.xmlä¸­é…ç½®DispatcherServletçš„è¯·æ±‚æ˜ å°„ï¼Œå¾€å¾€ä½¿ç”¨ *.do ã€*.actionã€*.xhtmlç­‰æ–¹å¼ã€‚ï¼ˆåœ¨ Controller ä¸­çš„ RequestMapping çš„ Value å¦‚æœæ˜¯å­—ç¬¦ä¸²æ²¡æœ‰ .do ç»“å°¾ï¼Œé‚£ä¹ˆ Spring MVC ä¼šé»˜è®¤çš„åŠ ä¸Š .doï¼‰</p>
<ul>
<li>strutsæ—©æœŸçš„1ç‰ˆæœ¬ï¼Œä»¥.doä¸ºåç¼€ï¼›åŒæ—¶springçš„MVCä¹Ÿæ˜¯ä»¥.doä¸ºåç¼€ã€‚</li>
<li>struts2æ²¿ç”¨äº†webwork2çš„è§„åˆ™ï¼Œä»¥.actionä¸ºåç¼€ã€‚</li>
</ul>
<p>å½“servlet-mappingé…ç½®ä¸º*.doè¿™ç±»å¸¦æŒ‡å®šåç¼€çš„æ—¶å€™ï¼Œé™æ€èµ„æºæ–‡ä»¶ä¾æ—§å¯ä»¥äº¤ç»™DefaultServletå¤„ç†ã€‚(*.doçš„DispatcherServletä¸ä¼šæ‹¦æˆªç±»ä¼¼*.jsp,*.jpgçš„è¯·æ±‚)</p>
<p>web.xml ä¸­é…ç½®äº†<code>&lt;url-pattern&gt;*.do&lt;/url-pattern&gt;</code>åï¼Œä¼šèµ·åˆ°ä¸¤ä¸ªä½œç”¨ï¼š<br>ï¼ˆ1ï¼‰æ˜¯é™åˆ¶ url çš„åç¼€åï¼Œåªèƒ½ä¸ºâ€.doâ€ã€‚<br>ï¼ˆ2ï¼‰å°±æ˜¯åœ¨æ²¡æœ‰å¡«å†™åç¼€æ—¶ï¼Œé»˜è®¤åœ¨ä½ é…ç½®çš„ Controller çš„ RequestMapping ä¸­æ·»åŠ â€.doâ€çš„åç¼€ã€‚</p>
<p>è¿™ç§å¤„ç†ä¸€èˆ¬èˆ¬ï¼Œä¸å¤Ÿä¼˜é›…ğŸ˜„</p>
<hr>
<p>ç„¶è€Œï¼Œå½“<strong>DispatcherServlet</strong>çš„mappingé…ç½®ä¸ºï¼š <strong>/</strong> çš„æ—¶å€™ï¼š</p>
<pre><code>&lt;servlet&gt;
    &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre><p>åˆ™Spring MVCå°†æ•è·Webå®¹å™¨<strong>æ‰€æœ‰çš„è¯·æ±‚</strong>ï¼ŒåŒ…æ‹¬é™æ€èµ„æºçš„è¯·æ±‚ï¼ŒSpring MVCä¼šå°†å®ƒä»¬å½“æˆä¸€ä¸ªæ™®é€šè¯·æ±‚å¤„ç†ï¼Œå› æ­¤æ‰¾ä¸åˆ°å¯¹åº”å¤„ç†å™¨å°†å¯¼è‡´é”™è¯¯ã€‚</p>
<ul>
<li>è¿™æ—¶å€™ <strong>DispatcherServlet</strong> ä¼š <strong>è¦†ç›–DefaultServlet</strong> çš„é…ç½®(DispathcerServletä¼š<strong>æ›´å…ˆåŒ¹é…</strong>åˆ°)ï¼Œé‚£ä¹ˆå¯¹äº.jpg,.pngç±»ä¼¼è¿™ç§<strong>é™æ€èµ„æº</strong>å°±å¾—ä¸åˆ°å¤„ç†ï¼ˆä¹‹å‰æ˜¯defaultServletï¼‰ä¼šå¤„ç†ï¼Œæ‰€ä»¥è¿™ç±»èµ„æºå°±ä¼šå¾—åˆ°404é”™è¯¯ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰é¢å¤–çš„é…ç½®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li>
</ul>
<p><strong>æ–¹æ³•1.ç»§ç»­é€šè¿‡DefaultServletæ¥å¤„ç†</strong>ã€‚åœ¨åº”ç”¨çš„web.xmlä¸­å°†å¸¸ç”¨çš„é™æ€èµ„æºURLæ˜ å°„åˆ°defaultServletä¸Šã€‚</p>
<pre><code>&lt;!--å¢åŠ åŒ¹é…èŒƒå›´ï¼Œä½¿å¾—ä¼˜å…ˆçº§æ¯”DispathcerServletçš„/é«˜--&gt;
&lt;!--é€šè¿‡defaultServletæ¥å¤„ç†jpg--&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;default&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.jpg&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;!--é€šè¿‡DefaultServletæ¥å¤„ç†png--&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;default&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.png&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;!--é€šè¿‡defaultServletæ¥å¤„ç†.jsæ–‡ä»¶--&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;default&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;!--é€šè¿‡defaultServletæ¥å¤„ç†.cssæ–‡ä»¶--&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;default&lt;/servlet-name&gt;
    &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</code></pre><hr>
<p><strong>æ–¹æ³•2.é‡‡ç”¨&lt;mvc:default-servlet-handler /&gt;</strong></p>
<pre><code>&lt;mvc:default-servlet-handler /&gt;</code></pre><p>åœ¨ <strong>springMVC-servlet.xml</strong> ä¸­é…ç½®<code>&lt;mvc:default-servlet-handler /&gt;</code>åï¼Œä¼šåœ¨Spring MVCä¸Šä¸‹æ–‡ä¸­å®šä¹‰ä¸€ä¸ªorg.springframework.web.servlet.resource.DefaultServletHttpRequestHandlerï¼Œå®ƒä¼š<strong>åƒä¸€ä¸ªæ£€æŸ¥å‘˜</strong>ï¼Œå¯¹è¿›å…¥DispatcherServletçš„URLè¿›è¡Œ<strong>ç­›æŸ¥</strong>ï¼Œå¦‚æœå‘ç°æ˜¯<strong>é™æ€èµ„æºçš„è¯·æ±‚</strong>ï¼Œå°±å°†è¯¥è¯·æ±‚<strong>è½¬äº¤ç»™</strong>Webåº”ç”¨æœåŠ¡å™¨<strong>é»˜è®¤çš„Servletï¼ˆDefaultServletï¼‰</strong>å¤„ç†ï¼Œå¦‚æœä¸æ˜¯é™æ€èµ„æºçš„è¯·æ±‚ï¼Œæ‰ç”±DispatcherServletç»§ç»­å¤„ç†ã€‚</p>
<ul>
<li>ä¸€èˆ¬Webåº”ç”¨æœåŠ¡å™¨é»˜è®¤çš„Servletåç§°æ˜¯â€defaultâ€ï¼Œå› æ­¤DefaultServletHttpRequestHandlerå¯ä»¥æ‰¾åˆ°å®ƒã€‚å¦‚æœä½¿ç”¨çš„Webåº”ç”¨æœåŠ¡å™¨çš„é»˜è®¤Servletåç§°<strong>ä¸æ˜¯â€defaultâ€</strong>ï¼Œåˆ™éœ€è¦é€šè¿‡default-servlet-nameå±æ€§æ˜¾ç¤ºæŒ‡å®šï¼š</li>
</ul>
<p><code>&lt;mvc:default-servlet-handler default-servlet-name=&quot;æ‰€ä½¿ç”¨çš„WebæœåŠ¡å™¨é»˜è®¤ä½¿ç”¨çš„Servletåç§°&quot; /&gt;</code></p>
<hr>
<p><strong>æ–¹æ³•3.é‡‡ç”¨&lt;mvc:resources /&gt;</strong></p>
<p><code>&lt;mvc:default-servlet-handler /&gt;</code>å°†é™æ€èµ„æºçš„å¤„ç†ç»ç”±Spring MVCæ¡†æ¶äº¤å›Webåº”ç”¨æœåŠ¡å™¨å¤„ç†ã€‚</p>
<p>è€Œ<code>&lt;mvc:resources /&gt;</code>æ›´è¿›ä¸€æ­¥ï¼Œç”±Spring MVCæ¡†æ¶è‡ªå·±å¤„ç†é™æ€èµ„æºï¼Œå¹¶æ·»åŠ ä¸€äº›æœ‰ç”¨çš„é™„åŠ å€¼åŠŸèƒ½ã€‚</p>
<ul>
<li><p>é¦–å…ˆï¼Œ&lt;mvc:resources /&gt;å…è®¸é™æ€èµ„æºæ”¾åœ¨ä»»ä½•åœ°æ–¹</p>
<ul>
<li>å¦‚WEB-INFç›®å½•ä¸‹ã€ç±»è·¯å¾„ä¸‹ç­‰ï¼Œç”šè‡³å¯ä»¥å°†JavaScriptç­‰é™æ€æ–‡ä»¶æ‰“åˆ°JARåŒ…ä¸­ã€‚</li>
<li>é€šè¿‡locationå±æ€§æŒ‡å®šé™æ€èµ„æºçš„ä½ç½®ï¼Œç”±äºlocationå±æ€§æ˜¯Resourcesç±»å‹ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨è¯¸å¦‚â€classpath:â€ç­‰çš„èµ„æºå‰ç¼€æŒ‡å®šèµ„æºä½ç½®ã€‚</li>
<li>ä¼ ç»ŸWebå®¹å™¨çš„é™æ€èµ„æºåªèƒ½æ”¾åœ¨Webå®¹å™¨çš„æ ¹è·¯å¾„ä¸‹ï¼Œ&lt;mvc:resources /&gt;å®Œå…¨æ‰“ç ´äº†è¿™ä¸ªé™åˆ¶ã€‚</li>
</ul>
</li>
<li><p>å…¶æ¬¡ï¼Œ&lt;mvc:resources /&gt;ä¾æ®å½“å‰è‘—åçš„Page Speedã€YSlowç­‰æµè§ˆå™¨ä¼˜åŒ–åŸåˆ™å¯¹é™æ€èµ„æºæä¾›ä¼˜åŒ–ã€‚</p>
<ul>
<li>å¯ä»¥é€šè¿‡cacheSecondså±æ€§æŒ‡å®šé™æ€èµ„æºåœ¨æµè§ˆå™¨ç«¯çš„ç¼“å­˜æ—¶é—´ï¼Œä¸€èˆ¬å¯å°†è¯¥æ—¶é—´è®¾ç½®ä¸ºä¸€å¹´ï¼Œä»¥å……åˆ†åˆ©ç”¨æµè§ˆå™¨ç«¯çš„ç¼“å­˜ã€‚</li>
<li>åœ¨è¾“å‡ºé™æ€èµ„æºæ—¶ï¼Œä¼šæ ¹æ®é…ç½®è®¾ç½®å¥½å“åº”æŠ¥æ–‡å¤´çš„Expires å’Œ Cache-Controlå€¼ã€‚</li>
<li>åœ¨æ¥æ”¶åˆ°é™æ€èµ„æºçš„è·å–è¯·æ±‚æ—¶ï¼Œä¼šæ£€æŸ¥è¯·æ±‚å¤´çš„Last-Modifiedå€¼ï¼Œå¦‚æœé™æ€èµ„æºæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥è¿”å›303ç›¸åº”çŠ¶æ€ç ï¼Œæç¤ºå®¢æˆ·ç«¯ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜çš„æ•°æ®ï¼Œè€Œéå°†é™æ€èµ„æºçš„å†…å®¹è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼Œä»¥å……åˆ†èŠ‚çœå¸¦å®½ï¼Œæé«˜ç¨‹åºæ€§èƒ½ã€‚</li>
</ul>
</li>
</ul>
<p><strong>åœ¨springMVC-servletä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</strong></p>
<pre><code>&lt;mvc:resources location=&quot;/,classpath:/META-INF/publicResources/&quot; mapping=&quot;/resources/**&quot;/&gt;</code></pre><p>ä»¥ä¸Šé…ç½®å°† <strong>Webæ ¹è·¯å¾„&quot;/&quot;</strong> åŠ <strong>ç±»è·¯å¾„ä¸‹</strong> <strong>/META-INF/publicResources/</strong> çš„ç›®å½• <strong>æ˜ å°„ä¸º/resourcesè·¯å¾„</strong>ã€‚</p>
<ul>
<li><p>å‡è®¾Webæ ¹è·¯å¾„ä¸‹æ‹¥æœ‰imagesã€jsè¿™ä¸¤ä¸ªèµ„æºç›®å½•,åœ¨imagesä¸‹é¢æœ‰bg.gifå›¾ç‰‡ï¼Œåœ¨jsä¸‹é¢æœ‰test.jsæ–‡ä»¶ï¼Œåˆ™å¯ä»¥é€šè¿‡ /resources/images/bg.gif å’Œ /resources/js/test.js è®¿é—®è¿™äºŒä¸ªé™æ€èµ„æºã€‚</p>
</li>
<li><p>å‡è®¾WebContentè¿˜æ‹¥æœ‰images/bg1.gif åŠ js/test1.jsï¼Œåˆ™ä¹Ÿå¯ä»¥åœ¨ç½‘é¡µä¸­é€šè¿‡ /resources/images/bg1.gif åŠ /resources/js/test1.js è¿›è¡Œå¼•ç”¨ã€‚</p>
</li>
</ul>
<p><strong>ä¹Ÿå¯ä»¥é…ç½®æŒ‡å®šç›´æ¥æ”¾è¡Œï¼Œå°†é™æ€èµ„æºçš„æ˜ å°„è¿›è¡Œæ”¾è¡Œï¼š</strong></p>
<pre><code>&lt;!-- æ”¾è¡Œé™æ€èµ„æº --&gt;
&lt;!-- æ”¾è¡Œjsæ–‡ä»¶ --&gt;
&lt;mvc:resources location=&quot;/js/&quot; mapping=&quot;/js/**&quot;/&gt;
&lt;!-- æ”¾è¡Œcssæ–‡ä»¶ --&gt;
&lt;mvc:resources location=&quot;/css/&quot; mapping=&quot;/css/**&quot;/&gt;
&lt;!--æ”¾è¡Œimgç±»çš„èµ„æºæ–‡ä»¶--&gt;
&lt;mvc:resources location=&quot;/images/&quot; mapping=&quot;/images/**&quot;/&gt;</code></pre><hr>
<h3 id="äºŒã€ç»§æ‰¿HttpServletç±»çš„æ–¹æ³•"><a href="#äºŒã€ç»§æ‰¿HttpServletç±»çš„æ–¹æ³•" class="headerlink" title="äºŒã€ç»§æ‰¿HttpServletç±»çš„æ–¹æ³•"></a>äºŒã€ç»§æ‰¿HttpServletç±»çš„æ–¹æ³•</h3><p>HTTPServlet ä½¿ç”¨ä¸€ä¸ª HTML è¡¨å•æ¥å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚è¯¥ç±»æ˜¯ç”¨ä¸“é—¨çš„æ–¹æ³•æ¥å¤„ç† HTML <a href="https://baike.baidu.com/item/è¡¨å•" target="_blank" rel="noopener">è¡¨å•</a>çš„ GenericServlet çš„ä¸€ä¸ªå­ç±»ã€‚ HTML è¡¨å•æ˜¯ç”± <code>&lt;form&gt;&lt;/form&gt;</code> æ ‡è®°å®šä¹‰çš„ã€‚ HttpServlet ç±»åŒ…å« init()ã€destroy()ã€service() ç­‰æ–¹æ³•ã€‚å…¶ä¸­ init() å’Œ destroy() æ–¹æ³•æ˜¯ç»§æ‰¿çš„ã€‚</p>
<ul>
<li><strong>javax.servlet</strong> è½¯ä»¶åŒ…ä¸­çš„ç›¸å…³ç±»ä¸º <strong>ServletResponseå’ŒServletRequest</strong>ã€‚</li>
<li><strong>javax.servlet.http</strong> è½¯ä»¶åŒ…ä¸­çš„ç›¸å…³ç±»ä¸º <strong>HttpServletRequestå’ŒHttpServletResponse</strong>ã€‚<ul>
<li>Servlet é€šè¿‡è¿™äº›å¯¹è±¡ä¸æœåŠ¡å™¨é€šä¿¡å¹¶æœ€ç»ˆä¸å®¢æˆ·ç«¯é€šä¿¡ã€‚</li>
</ul>
</li>
<li>Servlet èƒ½é€šè¿‡è°ƒç”¨â€è¯·æ±‚â€å¯¹è±¡çš„æ–¹æ³•è·çŸ¥<strong>å®¢æˆ·ç«¯ç¯å¢ƒ</strong>ï¼Œ<strong>æœåŠ¡å™¨ç¯å¢ƒ</strong>çš„ä¿¡æ¯å’Œæ‰€æœ‰ç”±<strong>å®¢æˆ·æœºå‘é€çš„ä¿¡æ¯</strong>ã€‚Servlet å¯ä»¥è°ƒç”¨â€œå“åº”â€å¯¹è±¡çš„æ–¹æ³•<strong>å‘é€å“åº”</strong>ï¼Œè¯¥å“åº”æ˜¯å‡†å¤‡å‘å›å®¢æˆ·ç«¯çš„ã€‚</li>
</ul>
<h4 id="1-init-æ–¹æ³•"><a href="#1-init-æ–¹æ³•" class="headerlink" title="(1) init() æ–¹æ³•"></a>(1) init() æ–¹æ³•</h4><ul>
<li><p>åœ¨ Servlet çš„ç”Ÿå‘½æœŸä¸­ï¼Œä»…æ‰§è¡Œä¸€æ¬¡ init() æ–¹æ³•ã€‚å®ƒæ˜¯åœ¨æœåŠ¡å™¨è£…å…¥ Servlet æ—¶æ‰§è¡Œçš„ã€‚ </p>
</li>
<li><p>å¯ä»¥æ‰‹åŠ¨é…ç½®æœåŠ¡å™¨ï¼Œä»¥åœ¨å¯åŠ¨æœåŠ¡å™¨æˆ–å®¢æˆ·æœºé¦–æ¬¡è®¿é—® Servlet æ—¶è£…å…¥ Servletã€‚ æ— è®ºæœ‰å¤šå°‘å®¢æˆ·æœºè®¿é—® Servletï¼Œéƒ½ä¸ä¼šé‡å¤æ‰§è¡Œ init() ã€‚</p>
</li>
<li><p>ç¼ºçœ init() æ–¹æ³•é€šå¸¸æ˜¯ç¬¦åˆè¦æ±‚çš„ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨å®šåˆ¶ init() æ–¹æ³•æ¥è¦†ç›–å®ƒï¼Œå…¸å‹çš„æ˜¯ç®¡ç†æœåŠ¡å™¨ç«¯èµ„æºã€‚ </p>
<ul>
<li>ä¾‹å¦‚ï¼Œå¯èƒ½ç¼–å†™ä¸€ä¸ªå®šåˆ¶ init() æ¥åªç”¨äºä¸€æ¬¡è£…å…¥ GIF å›¾åƒï¼Œæ”¹è¿› Servlet è¿”å› GIF å›¾åƒå’Œå«æœ‰å¤šä¸ªå®¢æˆ·æœºè¯·æ±‚çš„æ€§èƒ½ã€‚</li>
<li>å¦ä¸€ä¸ªç¤ºä¾‹æ˜¯åˆå§‹åŒ–æ•°æ®åº“è¿æ¥ã€‚</li>
</ul>
</li>
<li><p>ç¼ºçœçš„ init() æ–¹æ³•è®¾ç½®äº† Servlet çš„åˆå§‹åŒ–å‚æ•°ï¼Œå¹¶ç”¨å®ƒçš„ ServletConfig å¯¹è±¡å‚æ•°æ¥å¯åŠ¨é…ç½®ï¼Œ å› æ­¤æ‰€æœ‰è¦†ç›– init() æ–¹æ³•çš„ Servlet åº”è°ƒç”¨ super.init() ä»¥ç¡®ä¿ä»ç„¶æ‰§è¡Œè¿™äº›ä»»åŠ¡ã€‚</p>
</li>
<li><p>åœ¨è°ƒç”¨ service() æ–¹æ³•ä¹‹å‰ï¼Œåº”ç¡®ä¿å·²å®Œæˆäº† init() æ–¹æ³•ã€‚</p>
</li>
</ul>
<h4 id="2-service-æ–¹æ³•"><a href="#2-service-æ–¹æ³•" class="headerlink" title="(2) service() æ–¹æ³•"></a>(2) service() æ–¹æ³•</h4><ul>
<li>service() æ–¹æ³•æ˜¯ Servlet çš„æ ¸å¿ƒã€‚æ¯å½“ä¸€ä¸ªå®¢æˆ·è¯·æ±‚ä¸€ä¸ªHttpServlet å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„service() æ–¹æ³•å°±è¦è¢«è°ƒç”¨ï¼Œè€Œä¸”ä¼ é€’ç»™è¿™ä¸ªæ–¹æ³•ä¸€ä¸ªâ€è¯·æ±‚â€(ServletRequest)å¯¹è±¡å’Œä¸€ä¸ªâ€å“åº”â€(ServletResponse)å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚</li>
<li>åœ¨ HttpServlet ä¸­å·²å­˜åœ¨ service() æ–¹æ³•ï¼Œè°ƒç”¨ä¸ HTTP è¯·æ±‚çš„æ–¹æ³•ç›¸åº”çš„ do åŠŸèƒ½ã€‚<ul>
<li>ä¾‹å¦‚ï¼Œ å¦‚æœ HTTP è¯·æ±‚æ–¹æ³•ä¸º GETï¼Œåˆ™è°ƒç”¨ doGet() ã€‚</li>
</ul>
</li>
<li>HttpServlet.service() æ–¹æ³•ä¼šæ£€æŸ¥è¯·æ±‚æ–¹æ³•æ˜¯å¦è°ƒç”¨äº†é€‚å½“çš„å¤„ç†æ–¹æ³•ï¼Œä¸å¿…è¦è¦†ç›– service() æ–¹æ³•ã€‚åªéœ€è¦†ç›–ç›¸åº”çš„ do æ–¹æ³•å°±å¯ä»¥äº†ï¼ˆä¸€èˆ¬éƒ½è¦†ç›–ï¼šdoGet()æ–¹æ³•ã€doPost()æ–¹æ³•ï¼‰ã€‚</li>
</ul>
<pre><code>//httpservletçš„service()æ–¹æ³•ï¼š
protected void service(HttpServletRequest req, HttpServletResponse resp)
    throws ServletException, IOException{
    String method = req.getMethod();//è·å–è¯·æ±‚æ–¹æ³•
    if(method.equals(&quot;GET&quot;)){
        long lastModified = getLastModified(req);
        if(lastModified == -1L){
            doGet(req, resp);
        }else{
            long ifModifiedSince = req.getDateHeader(&quot;If-Modified-Since&quot;);
            if(ifModifiedSince &lt; (lastModified / 1000L) * 1000L){
                maybeSetLastModified(resp, lastModified);
                doGet(req, resp);
            }else{
                resp.setStatus(304);
            }
        }
    }else if(method.equals(&quot;HEAD&quot;)){
        long lastModified = getLastModified(req);
        maybeSetLastModified(resp, lastModified);
        doHead(req, resp);
    }else if(method.equals(&quot;POST&quot;))
        doPost(req, resp);
    else if(method.equals(&quot;PUT&quot;))
        doPut(req, resp);
    else if(method.equals(&quot;DELETE&quot;))
        doDelete(req, resp);
    else if(method.equals(&quot;OPTIONS&quot;))
        doOptions(req, resp);
    else if(method.equals(&quot;TRACE&quot;)){
        doTrace(req, resp);
    }else{
        String errMsg = lStrings.getString(&quot;http.method_not_implemented&quot;);
        Object errArgs[] = new Object[1];
        errArgs[0] = method;
        errMsg = MessageFormat.format(errMsg, errArgs);
        resp.sendError(501, errMsg);
    }
}</code></pre><p><strong>Servletçš„å“åº”å¯ä»¥æ˜¯ä¸‹åˆ—å‡ ç§ç±»å‹ï¼š</strong></p>
<p><code>response.getWriter() //è¾“å‡ºé¡µé¢</code></p>
<p><code>response.getOutputStream() //è¾“å‡ºäºŒè¿›åˆ¶æµæ–‡ä»¶</code></p>
<p><code>request.getRequestDispatcher(&quot;target.jsp&quot;).forward(request, response) //è½¬å‘</code></p>
<p><code>response.sendRedirect(&quot;ajax.jsp&quot;) //é‡å®šå‘</code></p>
<ul>
<li>å…³äºé‡å®šå‘ï¼šç­‰äºå®¢æˆ·ç«¯é‡æ–°å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ˆæ–°çš„çº¿ç¨‹ï¼Œæ–°ç”Ÿæˆçš„è¯·æ±‚å’Œå“åº”ï¼‰</li>
<li>å…³äºè½¬å‘ï¼šç­‰äºæœåŠ¡å™¨å†…éƒ¨è·³è½¬åˆ°åˆ«çš„servletï¼ˆåŒä¸€çº¿ç¨‹ï¼ŒåŒä¸€ä¸ªè¯·æ±‚å’Œå“åº”ï¼‰</li>
</ul>
<p>ä¸€ä¸ªservletè¯·æ±‚åªèƒ½æœ‰ä¸€ä¸ªå“åº”ï¼Œä»»ä½•å¤šä¸ªå“åº”çš„ä»£ç éƒ½æ˜¯é”™è¯¯çš„ï¼Œéƒ½ä¼šå‡ºç°<code>IllegalStateException</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤šä¸ªå“åº”çš„åœºæ™¯æ˜¯éæ³•çš„ã€‚</p>
<h4 id="3-doGet-æ–¹æ³•"><a href="#3-doGet-æ–¹æ³•" class="headerlink" title="(3) doGet() æ–¹æ³•"></a>(3) doGet() æ–¹æ³•</h4><ul>
<li>å½“ä¸€ä¸ªå®¢æˆ·é€šè¿‡ HTML è¡¨å•å‘å‡ºä¸€ä¸ª HTTP GET è¯·æ±‚æˆ–ç›´æ¥è¯·æ±‚ä¸€ä¸ª URL æ—¶ï¼ŒdoGet() æ–¹æ³•è¢«è°ƒç”¨ã€‚</li>
<li>ä¸ GET è¯·æ±‚ç›¸å…³çš„å‚æ•°æ·»åŠ åˆ° URL çš„åé¢ï¼Œå¹¶ä¸è¿™ä¸ªè¯·æ±‚ä¸€èµ·å‘é€ã€‚</li>
<li>å½“ä¸ä¼šä¿®æ”¹æœåŠ¡å™¨ç«¯çš„æ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ doGet() æ–¹æ³•ã€‚</li>
</ul>
<h4 id="4-doPost-æ–¹æ³•"><a href="#4-doPost-æ–¹æ³•" class="headerlink" title="(4) doPost() æ–¹æ³•"></a>(4) doPost() æ–¹æ³•</h4><ul>
<li>å½“ä¸€ä¸ªå®¢æˆ·é€šè¿‡ HTML è¡¨å•å‘å‡ºä¸€ä¸ª HTTP POST è¯·æ±‚æ—¶ï¼ŒdoPost() æ–¹æ³•è¢«è°ƒç”¨ã€‚</li>
<li>ä¸ POST è¯·æ±‚ç›¸å…³çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ HTTP è¯·æ±‚ä»æµè§ˆå™¨å‘é€åˆ°æœåŠ¡å™¨ã€‚</li>
<li>å½“éœ€è¦ä¿®æ”¹æœåŠ¡å™¨ç«¯çš„æ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ doPost() æ–¹æ³•ã€‚</li>
</ul>
<h4 id="5-destroy-æ–¹æ³•"><a href="#5-destroy-æ–¹æ³•" class="headerlink" title="(5) destroy() æ–¹æ³•"></a>(5) destroy() æ–¹æ³•</h4><ul>
<li><p>destroy() æ–¹æ³•ä»…æ‰§è¡Œä¸€æ¬¡ï¼Œå³åœ¨æœåŠ¡å™¨åœæ­¢ä¸”å¸è£… Servlet æ—¶æ‰§è¡Œè¯¥æ–¹æ³•ã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼šå°† Servlet ä½œä¸ºæœåŠ¡å™¨è¿›ç¨‹çš„ä¸€éƒ¨åˆ†æ¥å…³é—­ã€‚</li>
</ul>
</li>
<li><p>ç¼ºçœçš„ destroy() æ–¹æ³•é€šå¸¸æ˜¯ç¬¦åˆè¦æ±‚çš„ï¼Œä½†ä¹Ÿå¯ä»¥è¦†ç›–å®ƒã€‚</p>
<ul>
<li>ä¾‹å¦‚ï¼šç®¡ç†æœåŠ¡å™¨ç«¯èµ„æºï¼Œå¦‚æœ Servlet åœ¨è¿è¡Œæ—¶ä¼šç´¯è®¡ç»Ÿè®¡æ•°æ®ï¼Œåˆ™å¯ä»¥ç¼–å†™ä¸€ä¸ª destroy() æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºåœ¨æœªè£…å…¥ Servlet æ—¶å°†ç»Ÿè®¡æ•°å­—ä¿å­˜åœ¨æ–‡ä»¶ä¸­ã€‚</li>
<li>å¦ä¸€ä¸ªç¤ºä¾‹æ˜¯å…³é—­æ•°æ®åº“è¿æ¥ã€‚</li>
</ul>
</li>
<li><p>å½“æœåŠ¡å™¨å¸è£… Servlet æ—¶ï¼Œå°†åœ¨æ‰€æœ‰ service() æ–¹æ³•è°ƒç”¨å®Œæˆåï¼Œæˆ–åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”è¿‡åè°ƒç”¨ destroy() æ–¹æ³•ã€‚ä¸€ä¸ª Servlet åœ¨è¿è¡Œ service() æ–¹æ³•æ—¶å¯èƒ½ä¼šäº§ç”Ÿå…¶å®ƒçš„çº¿ç¨‹ï¼Œå› æ­¤è¯·ç¡®è®¤åœ¨è°ƒç”¨ destroy() æ–¹æ³•æ—¶ï¼Œè¿™äº›çº¿ç¨‹å·²ç»ˆæ­¢æˆ–å®Œæˆã€‚</p>
</li>
</ul>
<h4 id="6-getServletConfig-æ–¹æ³•"><a href="#6-getServletConfig-æ–¹æ³•" class="headerlink" title="(6) getServletConfig() æ–¹æ³•"></a>(6) getServletConfig() æ–¹æ³•</h4><p>getServletConfig() æ–¹æ³•è¿”å›ä¸€ä¸ª ServletConfig å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨æ¥è¿”å›åˆå§‹åŒ–å‚æ•°å’Œ ServletContextã€‚ServletContext æ¥å£æä¾›æœ‰å…³ servlet çš„ç¯å¢ƒä¿¡æ¯ã€‚</p>
<h4 id="7-getServletInfo-æ–¹æ³•"><a href="#7-getServletInfo-æ–¹æ³•" class="headerlink" title="(7) getServletInfo() æ–¹æ³•"></a>(7) getServletInfo() æ–¹æ³•</h4><p>getServletInfo() æ–¹æ³•æ˜¯ä¸€ä¸ªå¯é€‰çš„æ–¹æ³•ï¼Œå®ƒæä¾›æœ‰å…³ servlet çš„ä¿¡æ¯ï¼Œå¦‚ä½œè€…ã€ç‰ˆæœ¬ã€ç‰ˆæƒã€‚</p>
<hr>
<h3 id="ä¸‰ã€HttpRequestæ–¹æ³•"><a href="#ä¸‰ã€HttpRequestæ–¹æ³•" class="headerlink" title="ä¸‰ã€HttpRequestæ–¹æ³•"></a>ä¸‰ã€HttpRequestæ–¹æ³•</h3><ul>
<li><strong>setCharacterEncoding(ç¼–ç æ ¼å¼)</strong></li>
</ul>
<p><code>request.setCharacterEncoding(&quot;utf-8&quot;); //è®¾ç½®è¯·æ±‚ç¼–ç æ ¼å¼</code></p>
<p><code>response.setCharacterEncoding(&quot;utf-8&quot;) //è®¾ç½®å“åº”ç¼–ç æ ¼å¼;</code></p>
<ul>
<li><strong>getParameter(String</strong> <strong>key)</strong>  <strong>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</strong><ul>
<li>è·å¾—nameå’Œkeyä¸€æ ·çš„è¡¨å•ç©ºé—´çš„æ•°æ®ï¼Œå¦‚æœnameæœ‰é‡å¤ï¼Œåˆ™è¿”å›çš„æ˜¯ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„nameå±æ€§çš„æ•°æ®</li>
</ul>
</li>
</ul>
<p><code>é€šè¿‡getParameterè·å–åˆ°è¯·æ±‚é“¾ä¸­çš„nameå±æ€§å¯¹åº”ç¬¬ä¸€ä¸ªvalueå€¼</code>  </p>
<p><code>String uname = request.getParameter(&quot;name&quot;);  System.*out*.println(&quot;ç”¨æˆ·åä¸ºï¼š&quot;+uname);</code> </p>
<ul>
<li><strong>getParameterValues(String</strong> <strong>key)</strong>  <strong>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„</strong><ul>
<li>è·å¾—nameå’Œkeyä¸€æ ·çš„è¡¨å•æ§ä»¶çš„æ•°æ®ï¼Œä½†æ˜¯ç›¸åŒnameæ§ä»¶ä¼šæœ‰å¤šä¸ªï¼ˆè¿”å›æ‰€æœ‰çš„nameæ•°æ®ï¼‰ï¼›</li>
</ul>
</li>
</ul>
<pre><code>//é€šè¿‡getParameterValuesè·å–åˆ°è¯·æ±‚é“¾ä¸­çš„nameå±æ€§å¯¹åº”çš„ä¸€ç»„valueå€¼    
String[] hobby =  request.getParameterValues(&quot;hobby&quot;);
System.out.print(&quot;çˆ±å¥½ä¸ºï¼š&quot;);
for(String str:hobby){
    System.out.print(str+&quot;,&quot;);
}
System.out.println();</code></pre><ul>
<li><strong>getParameterMap()</strong>  <strong>è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å‚æ•°çš„map</strong><ul>
<li>key-String[]æ¨¡å¼ï¼Œå³keyæ˜¯è¡¨å•æ§ä»¶çš„nameï¼ŒåŒæ—¶ï¼Œä¸ºé˜²æ­¢æœ‰é‡å¤çš„nameçš„æ§ä»¶å­˜åœ¨ï¼Œæ¯ä¸ªnameå¯¹åº”ä¸€ä¸ªå­—ç¬¦ä¸²æ•°æ® </li>
</ul>
</li>
</ul>
<pre><code>//é€šè¿‡getParameterMapè·å–åˆ°æ•´ä¸ªformè¡¨å•æ•°æ®
Map&lt;String, String[]&gt; form = request.getParameterMap();
//é€šè¿‡keyè·å–åˆ°æ•´ä¸ªè¡¨å•çš„nameå±æ€§
Set&lt;String&gt; names = form.keySet();
for(String str:names){
    System.out.print(str+&quot;:&quot;);
    String[] values = form.get(str);
    String value = &quot;&quot;;
    for(String val:values){
        value += val+&quot;,&quot;;
    }    
    System.out.println( value.substring(0,value.length()-1) );
}  </code></pre><ul>
<li><p>setcharacterEncoding(): è®¾ç½®è¯·æ±‚é€šé“ç¼–ç æ ¼å¼</p>
</li>
<li><p>getRemoteAddr()ï¼šè¿”å›å®¢æˆ·ç«¯çš„IPåœ°å€</p>
</li>
<li><p>getContentType()ï¼šè·å¾—è¯·æ±‚æ­£æ–‡çš„MIMEç±»å‹</p>
</li>
<li><p>getContextPath()ï¼šè¿”å›å®¢æˆ·ç«¯æ‰€è¯·æ±‚è®¿é—®çš„Webåº”ç”¨çš„URLå…¥å£</p>
</li>
<li><p>getMethod()ï¼šè¿”å›Httpè¯·æ±‚æ–¹å¼</p>
</li>
<li><p>getRequestDispatcher() :è½¬å‘åˆ°æŒ‡å®šåœ°å€å¹¶ä½¿ç”¨forwardè·³è½¬</p>
</li>
</ul>
<h3 id="å››ã€HttpServletResponseæ–¹æ³•"><a href="#å››ã€HttpServletResponseæ–¹æ³•" class="headerlink" title="å››ã€HttpServletResponseæ–¹æ³•"></a>å››ã€HttpServletResponseæ–¹æ³•</h3><ul>
<li><p>setCharacterEncoding(): è®¾ç½®å“åº”é€šé“ç¼–ç æ ¼å¼</p>
</li>
<li><p>setContentType(String type)ï¼šè®¾ç½®å“åº”æ­£æ–‡çš„MIMEç±»å‹</p>
</li>
<li><p>getCharacterEncoding()ï¼šè¿”å›å“åº”æ­£æ–‡çš„å­—ç¬¦ç¼–ç </p>
</li>
<li><p>getContentType()ï¼šè¿”å›å“åº”æ­£æ–‡çš„MIMEç±»å‹ã€‚</p>
</li>
<li><p>sendRedirect() ç”¨äºå“åº”é‡å®šå‘</p>
</li>
</ul>
<p>åœ¨ç”¨æˆ·æµè§ˆå™¨å·¥ä½œä¸­ï¼ŒsendRedirect()å¯ä»¥å¸¦å‚æ•°ä¼ é€’ï¼Œæ¯”å¦‚    response.sendRedirect(â€œwelcome?acount=â€+account+â€&amp;password=â€+password)ï¼Œä¼ é€’    è‡³ä¸‹ä¸€ä¸ªé¡µé¢ï¼ŒåŒæ—¶å®ƒå¯ä»¥é‡æ–°æŒ‡å‘å¦ä¸€ä¸ªé¡µé¢</p>
<p>æ³¨ï¼š1.welcomeä»£è¡¨ä½ è¦é‡å®šå‘çš„é‚£ä¸ªServletçš„url</p>
<p>â€‹        2.Servlet urlåå’Œå˜é‡ä¹‹é—´æœ‰ï¼Ÿè¿æ¥</p>
<p>â€‹        3.å¦‚æœè¦ä¼ é€’ä¸¤ä¸ªæˆ–ä»¥ä¸Šå‚æ•°ï¼Œå‚æ•°ä¹‹é—´ç”¨&amp;è¿æ¥</p>
<hr>
<h3 id="äº”ã€request-getRequestURL-å’Œrequest-getRequestURI-çš„åŒºåˆ«"><a href="#äº”ã€request-getRequestURL-å’Œrequest-getRequestURI-çš„åŒºåˆ«" class="headerlink" title="äº”ã€request.getRequestURL()å’Œrequest.getRequestURI()çš„åŒºåˆ«"></a>äº”ã€request.getRequestURL()å’Œrequest.getRequestURI()çš„åŒºåˆ«</h3><ul>
<li><p>request.getRequestURL() è¿”å› <strong>å…¨è·¯å¾„</strong></p>
<ul>
<li>å¦‚ï¼š<a href="http://localhost:8080/myServlet/page/index.jsp" target="_blank" rel="noopener">http://localhost:8080/myServlet/page/index.jsp</a></li>
</ul>
</li>
<li><p>request.getRequestURI() è¿”å› <strong>é™¤å»hostï¼ˆåŸŸåæˆ–è€…ipï¼‰éƒ¨åˆ†çš„è·¯å¾„</strong></p>
<ul>
<li>å¦‚ï¼š/myServlet/page/index.jsp</li>
</ul>
</li>
<li><p>request.getContextPath() è¿”å› <strong>å·¥ç¨‹åéƒ¨åˆ†</strong>ï¼Œå¦‚æœå·¥ç¨‹æ˜ å°„ä¸º/ï¼Œæ­¤å¤„è¿”å›åˆ™ä¸ºç©º</p>
<ul>
<li>å¦‚ï¼š/myServlet</li>
</ul>
</li>
<li><p>request.getServletPath() è¿”å› <strong>é™¤å»hostå’Œå·¥ç¨‹åéƒ¨åˆ†çš„è·¯å¾„</strong></p>
<ul>
<li>å¦‚ï¼š/page/index.jsp</li>
</ul>
</li>
</ul>
<p><strong>æ³¨ï¼šmyServletä¸ºå·¥ç¨‹åã€pageä¸ºWebContextä¸‹çš„ç›®å½•å</strong></p>
<hr>
<h3 id="å…­ã€getInitParameteræ–¹æ³•-ä»web-xmlä¸­è·å–å‚æ•°"><a href="#å…­ã€getInitParameteræ–¹æ³•-ä»web-xmlä¸­è·å–å‚æ•°" class="headerlink" title="å…­ã€getInitParameteræ–¹æ³•(ä»web.xmlä¸­è·å–å‚æ•°)"></a>å…­ã€getInitParameteræ–¹æ³•(ä»web.xmlä¸­è·å–å‚æ•°)</h3><p>åœ¨ <strong>ServletConfig</strong> å’Œ <strong>ServletContext</strong> éƒ½æœ‰ getInitParameter æ–¹æ³•ï¼Œ </p>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•çš„éƒ½èƒ½ä»web.xmlä¸­è·å–å‚æ•°ï¼Œä½†æ˜¯æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  
&lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;  

    &lt;context-param&gt;  
      &lt;param-name&gt;webParam&lt;/param-name&gt;  
      &lt;param-value&gt;bigbigbig&lt;/param-value&gt;  
    &lt;/context-param&gt;  

    &lt;servlet&gt;  
        &lt;servlet-name&gt;test&lt;/servlet-name&gt;  
        &lt;servlet-class&gt;com.wenah.Test&lt;/servlet-class&gt;  
        &lt;init-param&gt;  
          &lt;param-name&gt;servletParam&lt;/param-name&gt;  
          &lt;param-value&gt;smallsmallsmall&lt;/param-value&gt;  
        &lt;/init-param&gt;  
    &lt;/servlet&gt;  

    &lt;servlet-mapping&gt;  
        &lt;servlet-name&gt;test&lt;/servlet-name&gt;  
        &lt;url-pattern&gt;/testParam&lt;/url-pattern&gt;  
    &lt;/servlet-mapping&gt;  

&lt;/web-app&gt;  </code></pre><p>æµ‹è¯•ç±»ï¼š</p>
<pre><code>@WebServlet(&quot;/testParam&quot;)
public class Test extends HttpServlet {
    public void doGet(HttpServletRequest request, HttpServletResponse response)  
            throws ServletException, IOException {

        //ç‹¬å±äºTestè¿™ä¸ªServletçš„å‚æ•°:
        String sParam = this.getInitParameter(&quot;servletParam&quot;);
        //webèŒƒå›´çš„å‚æ•°:
        String wParam = this.getServletContext().getInitParameter(&quot;webParam&quot;);  

        String ret = &quot;{Test}sParam:&quot;+sParam+&quot;&lt;br/&gt;{Test}wParam:&quot;+wParam;
        resp.getWriter().write(ret);
    }  
}  </code></pre><p>è¾“å‡ºç»“æœï¼š</p>
<p>{Test}sParam:smallsmallsmall</p>
<p>{Test}wParam:bigbigbig</p>
<hr>
<h3 id="ä¸ƒã€Filterè¿‡æ»¤å™¨"><a href="#ä¸ƒã€Filterè¿‡æ»¤å™¨" class="headerlink" title="ä¸ƒã€Filterè¿‡æ»¤å™¨"></a>ä¸ƒã€Filterè¿‡æ»¤å™¨</h3><ul>
<li>Filterè¿‡æ»¤å™¨æ˜¯servletå’Œjspçš„æ ¸å¿ƒæŠ€æœ¯</li>
<li>å¯ä»¥ç»Ÿä¸€çš„å»æ§åˆ¶èµ„æºï¼Œç»Ÿä¸€å¤„ç†é—®é¢˜ï¼Œå¯¹äº<strong>æƒé™çš„æ§åˆ¶</strong>ï¼Œå¯ä»¥å¤§å¤§çš„æé«˜å¼€å‘çš„æ•ˆç‡ï¼Œé«˜å¤ç”¨éƒ¨åˆ†ä»£ç ã€‚</li>
</ul>
<h4 id="5-1ã€å®ç°çš„æ¥å£ä¸ºservlet-filteræ¥å£"><a href="#5-1ã€å®ç°çš„æ¥å£ä¸ºservlet-filteræ¥å£" class="headerlink" title="5.1ã€å®ç°çš„æ¥å£ä¸ºservlet.filteræ¥å£"></a>5.1ã€å®ç°çš„æ¥å£ä¸ºservlet.filteræ¥å£</h4><ol>
<li>å½“å®¢æˆ·ç«¯å‘é€è¯·æ±‚åï¼Œservletå®¹å™¨ä¼šè°ƒç”¨filterè¿‡æ»¤å™¨</li>
<li>å¦‚æœè¯·æ±‚åœ¨filterä¸­<strong>é€šè¿‡</strong>ï¼Œåˆ™ä¼šå°†è¯·æ±‚è½¬å‘ç»™servlet</li>
<li>å¦‚æœè¯·æ±‚åœ¨filerä¸­<strong>ä¸é€šè¿‡</strong>ï¼Œåˆ™è¿›è¡ŒæŒ‡å®šè·³è½¬</li>
</ol>
<p><strong>Filterä¸­éœ€è¦å®ç°çš„æ–¹æ³•ï¼š</strong></p>
<ul>
<li>Initæ–¹æ³•</li>
<li>doFilteræ–¹æ³•</li>
<li>destroy æ–¹æ³•</li>
</ul>
<hr>
<h4 id="5-2ã€åˆ›å»ºå­—ç¬¦ç¼–ç è¿‡æ»¤å™¨ï¼ˆè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼‰"><a href="#5-2ã€åˆ›å»ºå­—ç¬¦ç¼–ç è¿‡æ»¤å™¨ï¼ˆè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼‰" class="headerlink" title="5.2ã€åˆ›å»ºå­—ç¬¦ç¼–ç è¿‡æ»¤å™¨ï¼ˆè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼‰"></a>5.2ã€åˆ›å»ºå­—ç¬¦ç¼–ç è¿‡æ»¤å™¨ï¼ˆè§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼‰</h4><p>éœ€è¦å®ç°filteræ¥å£ï¼š</p>
<pre><code>public class EncodingFilter implements Filter {
    //å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œç”¨äºæ¥æ”¶é…ç½®æ–‡ä»¶ä¸­çš„åˆå§‹å±æ€§
    String encoding = &quot;&quot;;
    @Override
    public void destroy() {
        // TODO Auto-generated method stub
    }
    @Override
    public void doFilter(ServletRequest arg0, ServletResponse arg1,
            FilterChain filterChain) throws IOException, ServletException {
        //å› ä¸ºfilterä¸­ä½¿ç”¨çš„è¯·æ±‚ä¸å“åº”éƒ½ä¸æºå¸¦Httpåè®®ï¼Œéœ€è¦å…ˆå°†è¯·æ±‚ä¸å“åº”å¼ºè½¬ä¸ºhttpåè®®çš„è¯·æ±‚ä¸å“åº”
        HttpServletRequest request = (HttpServletRequest) arg0;
        HttpServletResponse response = (HttpServletResponse) arg1;
        //å½“filterä¸­ç»Ÿä¸€è®¾ç½®ç¼–ç æ ¼å¼åï¼Œå…¶ä»–çš„ç±»éƒ½ä¸éœ€è¦è®¾ç½®ç¼–ç æ ¼å¼
        request.setCharacterEncoding(encoding);
        response.setCharacterEncoding(encoding);
        response.setContentType(&quot;text/html;charset=utf-8&quot;);
        //è®©è¿‡æ»¤å™¨å°†æ‰§è¡Œåçš„è¯·æ±‚ä¸å“åº”å†æ¬¡å›åˆ°è¯·æ±‚é“¾ä¸­
        filterChain.doFilter(request, response);
    }

    @Override
    public void init(FilterConfig config) throws ServletException {
        //getInitParameter()ä»web.xmlä¸­è·å–å¯¹åº”çš„å‚æ•°
        encoding = config.getInitParameter(&quot;encoding&quot;);
    }
}</code></pre><p><strong>é…ç½®web.xmlæ–‡ä»¶</strong>ï¼Œä½¿æŒ‡å®šè¯·æ±‚è¿›å…¥åˆ°filterè¿‡æ»¤å™¨ä¸­</p>
<pre><code>&lt;!-- è®¾ç½®ä¸€å¯¹filteræ˜ å°„å…³ç³» --&gt;
&lt;filter&gt;
    &lt;filter-name&gt;encod&lt;/filter-name&gt;
    &lt;filter-class&gt;com.entor.filter.EncodingFilter&lt;/filter-class&gt;
    &lt;!-- ä¸ºè¿‡æ»¤å™¨è®¾ç½®ä¸€ä¸ªåˆå§‹å±æ€§ï¼Œåœ¨è¿‡æ»¤å™¨ä¸­çš„initæ–¹æ³•è·å– --&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;encoding&lt;/param-name&gt;
        &lt;param-value&gt;utf-8&lt;/param-value&gt;
    &lt;/init-param&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
    &lt;filter-name&gt;encod&lt;/filter-name&gt;
    &lt;!-- /*è¡¨ç¤ºæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šè¿›å…¥è¿‡æ»¤å™¨ --&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</code></pre><hr>
<h4 id="5-3ã€ç™»å½•æƒé™æ§åˆ¶"><a href="#5-3ã€ç™»å½•æƒé™æ§åˆ¶" class="headerlink" title="5.3ã€ç™»å½•æƒé™æ§åˆ¶"></a>5.3ã€ç™»å½•æƒé™æ§åˆ¶</h4><pre><code>public class UsersFilter implements Filter {
    //å®šä¹‰å¯æ”¾è¡Œçš„è¯·æ±‚
    String[] urls = {&quot;/login&quot;,&quot;/loginServlet&quot;};

    @Override
    public void destroy() {}

    @Override
    public void doFilter(ServletRequest arg0, ServletResponse arg1,
            FilterChain chain) throws IOException, ServletException {
        HttpServletRequest request = (HttpServletRequest) arg0;
        HttpServletResponse response = (HttpServletResponse) arg1;
        boolean flag = false;
        //è·å–åˆ°è¯·æ±‚çš„ç›¸å¯¹è·¯å¾„
        String path = request.getRequestURI();
        for(String url:urls){    //éå†éªŒè¯å¯æ”¾è¡Œçš„è¯·æ±‚
            if(path.indexOf(url)!=-1){
                flag = true;
                break;
            }
        }

        if(flag){
            chain.doFilter(request, response); //å¯æ”¾è¡Œçš„è¯·æ±‚,æ‰§è¡Œæ”¾è¡Œæ“ä½œ
        }else{
            //åˆ¤æ–­sessionæ˜¯å¦ä¸ºç©ºï¼Œsessionéƒ½ä¸ºç©ºä¸€å®šæ˜¯éç™»å½•çŠ¶æ€
            //getSession(false)ï¼šfalseè¡¨ç¤ºè·å–å¯¹è±¡è€Œéåˆ›å»ºsessionå¯¹è±¡
            if(request.getSession(false)!=null){
                //ä»sessionä¸­è·å–åˆ°userå¯¹è±¡
                Users user = (Users) request.getSession(false).getAttribute(&quot;user&quot;);
                if(user!=null){
                    //å¦‚æœéƒ½éªŒè¯æˆåŠŸï¼Œå›åˆ°è¯·æ±‚é“¾
                    chain.doFilter(request, response);    //å·²ç™»é™†ç”¨æˆ·,æ‰§è¡Œæ”¾è¡Œæ“ä½œ
                }
            }
            //å¦‚æœä¸æˆåŠŸåˆ™é‡å®šå‘åˆ°loginç•Œé¢(ä¹Ÿå¯è‡ªå®šä¹‰å¤±è´¥é¡µé¢)
            response.sendRedirect(&quot;login&quot;);
        }

    }

    @Override
    public void init(FilterConfig arg0) throws ServletException {
        // TODO Auto-generated method stub
    }

}</code></pre><p>é…ç½®æƒé™æ§åˆ¶è¿‡æ»¤å™¨çš„web.xml</p>
<pre><code>&lt;!-- è®¾ç½®ä¸€å¯¹filteræ˜ å°„å…³ç³» --&gt;
&lt;filter&gt;
    &lt;filter-name&gt;userFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;com.entor.filter.UsersFilter&lt;/filter-class&gt;
&lt;/filter&gt;

&lt;filter-mapping&gt;
    &lt;filter-name&gt;userFilter&lt;/filter-name&gt;
    &lt;!-- /*è¡¨ç¤ºæ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šè¿›å…¥è¿‡æ»¤å™¨ --&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</code></pre><hr>
<h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><p>è¶Šå†™è¶Šå¤šäº†ï¼Œw(ï¾ŸĞ”ï¾Ÿ)w</p>
<hr>
<blockquote>
<p><a href="https://baike.baidu.com/item/servlet" target="_blank" rel="noopener">ç™¾åº¦ç™¾ç§‘|Servlet</a></p>
<p><a href="https://blog.csdn.net/qq_30920821/java/article/details/78328608" target="_blank" rel="noopener">Webå®¹å™¨ä¸­DefaultServletè¯¦è§£</a></p>
<p><a href="https://blog.csdn.net/javadxz/article/details/6400448" target="_blank" rel="noopener">servlet doPost() doHead() doGet()ç­‰æ–¹æ³•è¢«æ‰§è¡Œçš„ç”±æ¥</a></p>
<p><a href="https://www.cnblogs.com/dflmg/p/6393416.html" target="_blank" rel="noopener">ã€Springæ¡†æ¶ã€‘<a href="mvc:default-servlet-handler/">mvc:default-servlet-handler/</a>çš„ä½œç”¨</a></p>
<p><a href="https://blog.csdn.net/gavid0124/java/article/details/45390999" target="_blank" rel="noopener">request.getRequestURL()å’Œrequest.getRequestURI()çš„åŒºåˆ«</a></p>
</blockquote>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        æ–‡ç« ä½œè€…:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">é˜®é˜®é˜®</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        æ–‡ç« é“¾æ¥:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://coderuan.github.io/2020/07/18/servlet-ji-chu/">https://coderuan.github.io/2020/07/18/servlet-ji-chu/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        ç‰ˆæƒå£°æ˜:
                    </i>
                </span>
                <span class="reprint-info">
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ¥å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº
                    <a href="/about" target="_blank">é˜®é˜®é˜®</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>å¤åˆ¶æˆåŠŸï¼Œè¯·éµå¾ªæœ¬æ–‡çš„è½¬è½½è§„åˆ™</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">æŸ¥çœ‹</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Java/">
                                    <span class="chip bg-color">Java</span>
                                </a>
                            
                                <a href="/tags/%E5%90%8E%E5%8F%B0/">
                                    <span class="chip bg-color">åå°</span>
                                </a>
                            
                                <a href="/tags/%E5%9F%BA%E7%A1%80/">
                                    <span class="chip bg-color">åŸºç¡€</span>
                                </a>
                            
                                <a href="/tags/Servlet/">
                                    <span class="chip bg-color">Servlet</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,qq,qzone,wechat,weibo,douban" data-wechat-qrcode-helper="<p>å¾®ä¿¡æ‰«ä¸€æ‰«å³å¯åˆ†äº«ï¼</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">èµ</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">ä½ çš„èµè¯†æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">æ”¯ä»˜å®</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">å¾® ä¿¡</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/medias/reward/alipay.jpg" class="reward-img" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
                    </div>
                    <div id="wechat">
                        <img src="https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/medias/reward/wechat.png" class="reward-img" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>è¯„è®º</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'KGJYENiBGROpiQlRUrMBtubO-gzGzoHsz',
        appKey: 'J02GlKLYg4bHHTrpnruDOgcS',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'hide',
        pageSize: '5',
        lang: 'zh-cn',
        placeholder: 'æ¬¢è¿ç•™è¨€'
    });
</script>

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;ä¸Šä¸€ç¯‡</div>
            <div class="card">
                <a href="/2020/07/18/chuang-jian-yi-ge-servlet-cheng-xu/">
                    <div class="card-image">
                        
                        <img src="https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/emotion/codeEmoticon/code001.jpg" class="responsive-img" alt="åˆ›å»ºä¸€ä¸ªServletç¨‹åº">
                        
                        <span class="card-title">åˆ›å»ºä¸€ä¸ªServletç¨‹åº</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ä½¿ç”¨Eclipseåˆ›å»ºä¸€ä¸ªServletç¨‹åºå…¨è®°å½•
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-07-18
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/JavaEE/" class="post-category">
                                    JavaEE
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Java/">
                        <span class="chip bg-color">Java</span>
                    </a>
                    
                    <a href="/tags/%E5%90%8E%E5%8F%B0/">
                        <span class="chip bg-color">åå°</span>
                    </a>
                    
                    <a href="/tags/Servlet/">
                        <span class="chip bg-color">Servlet</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                ä¸‹ä¸€ç¯‡&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/07/16/shiro-ji-chu/">
                    <div class="card-image">
                        
                        <img src="https://tencentcloud-1302662658.cos.ap-guangzhou.myqcloud.com/medias/featureimages/7.jpg" class="responsive-img" alt="Shiroç³»ç»Ÿå®‰å…¨æ¡†æ¶">
                        
                        <span class="card-title">Shiroç³»ç»Ÿå®‰å…¨æ¡†æ¶</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Shiroæ¡†æ¶å­¦ä¹ è®°å½•(å‘åŠ¨æ¡†æ¶buff)
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-07-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Shiro/" class="post-category">
                                    Shiro
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Java/">
                        <span class="chip bg-color">Java</span>
                    </a>
                    
                    <a href="/tags/%E6%A1%86%E6%9E%B6/">
                        <span class="chip bg-color">æ¡†æ¶</span>
                    </a>
                    
                    <a href="/tags/Shiro/">
                        <span class="chip bg-color">Shiro</span>
                    </a>
                    
                    <a href="/tags/%E5%AE%89%E5%85%A8/">
                        <span class="chip bg-color">å®‰å…¨</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- ä»£ç å—åŠŸèƒ½ä¾èµ– -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- ä»£ç è¯­è¨€ -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- ä»£ç å—å¤åˆ¶ -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- ä»£ç å—æ”¶ç¼© -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- ä»£ç å—æŠ˜è¡Œ -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;ç›®å½•</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC æ‚¬æµ®æŒ‰é’®. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ä¿®å¤æ–‡ç« å¡ç‰‡ div çš„å®½åº¦. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // åˆ‡æ¢TOCç›®å½•å±•å¼€æ”¶ç¼©çš„ç›¸å…³æ“ä½œ.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">wenahé˜®</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;ç«™ç‚¹æ€»å­—æ•°:&nbsp;<span
                class="white-color">38.3k</span>&nbsp;å­—
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;æ€»è®¿é—®é‡:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;æ¬¡
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;æ€»è®¿é—®äººæ•°:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;äºº
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">














</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- æœç´¢é®ç½©æ¡† -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;æœç´¢</span>
            <input type="search" id="searchInput" name="s" placeholder="è¯·è¾“å…¥æœç´¢çš„å…³é”®å­—"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
